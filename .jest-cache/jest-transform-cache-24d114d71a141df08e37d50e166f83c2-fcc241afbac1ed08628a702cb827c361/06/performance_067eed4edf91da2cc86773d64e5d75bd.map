{"version":3,"names":["debounce","func","wait","timeout","executedFunction","args","later","clearTimeout","setTimeout","exports","throttle","limit","inThrottle","arguments","context","apply","memoize","fn","cache","Map","key","JSON","stringify","has","get","result","set","supportsHardwareAcceleration","canvas","document","createElement","gl","getContext","getDevicePerformanceTier","debugInfo","getExtension","renderer","getParameter","UNMASKED_RENDERER_WEBGL","includes","navigator","deviceMemory","getOptimizedAnimationSettings","performanceTier","maxFloatingElements","animationQuality","enableParticles","enableShadows","preloadResources","window","AudioContext","audioContext","webkitAudioContext","suspend","createMemoryManager","maxCacheSize","value","size","firstKey","keys","next","delete","clear"],"sources":["performance.js"],"sourcesContent":["// Performance optimization utilities\r\n\r\n// Debounce function to limit function calls\r\nexport const debounce = (func, wait) => {\r\n  let timeout;\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n};\r\n\r\n// Throttle function to limit function calls\r\nexport const throttle = (func, limit) => {\r\n  let inThrottle;\r\n  return function() {\r\n    const args = arguments;\r\n    const context = this;\r\n    if (!inThrottle) {\r\n      func.apply(context, args);\r\n      inThrottle = true;\r\n      setTimeout(() => inThrottle = false, limit);\r\n    }\r\n  };\r\n};\r\n\r\n// Memoize expensive calculations\r\nexport const memoize = (fn) => {\r\n  const cache = new Map();\r\n  return (...args) => {\r\n    const key = JSON.stringify(args);\r\n    if (cache.has(key)) {\r\n      return cache.get(key);\r\n    }\r\n    const result = fn(...args);\r\n    cache.set(key, result);\r\n    return result;\r\n  };\r\n};\r\n\r\n// Check if device supports hardware acceleration\r\nexport const supportsHardwareAcceleration = () => {\r\n  const canvas = document.createElement('canvas');\r\n  const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\r\n  return !!gl;\r\n};\r\n\r\n// Get device performance tier\r\nexport const getDevicePerformanceTier = () => {\r\n  const canvas = document.createElement('canvas');\r\n  const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\r\n  \r\n  if (!gl) return 'low';\r\n  \r\n  const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');\r\n  if (debugInfo) {\r\n    const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);\r\n    // Check for high-end GPUs\r\n    if (renderer.includes('NVIDIA') || renderer.includes('AMD') || renderer.includes('Intel Iris')) {\r\n      return 'high';\r\n    }\r\n  }\r\n  \r\n  // Check memory\r\n  if (navigator.deviceMemory && navigator.deviceMemory >= 4) {\r\n    return 'medium';\r\n  }\r\n  \r\n  return 'low';\r\n};\r\n\r\n// Optimize animations based on device performance\r\nexport const getOptimizedAnimationSettings = () => {\r\n  const performanceTier = getDevicePerformanceTier();\r\n  \r\n  switch (performanceTier) {\r\n    case 'high':\r\n      return {\r\n        maxFloatingElements: 24,\r\n        animationQuality: 'high',\r\n        enableParticles: true,\r\n        enableShadows: true\r\n      };\r\n    case 'medium':\r\n      return {\r\n        maxFloatingElements: 16,\r\n        animationQuality: 'medium',\r\n        enableParticles: true,\r\n        enableShadows: false\r\n      };\r\n    case 'low':\r\n    default:\r\n      return {\r\n        maxFloatingElements: 8,\r\n        animationQuality: 'low',\r\n        enableParticles: false,\r\n        enableShadows: false\r\n      };\r\n  }\r\n};\r\n\r\n// Preload critical resources\r\nexport const preloadResources = () => {\r\n  // Preload audio context\r\n  if (typeof window !== 'undefined' && window.AudioContext) {\r\n    const audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n    // Suspend immediately to avoid auto-play issues\r\n    audioContext.suspend();\r\n  }\r\n};\r\n\r\n// Memory management utilities\r\nexport const createMemoryManager = () => {\r\n  const cache = new Map();\r\n  const maxCacheSize = 50;\r\n  \r\n  return {\r\n    set: (key, value) => {\r\n      if (cache.size >= maxCacheSize) {\r\n        const firstKey = cache.keys().next().value;\r\n        cache.delete(firstKey);\r\n      }\r\n      cache.set(key, value);\r\n    },\r\n    get: (key) => cache.get(key),\r\n    clear: () => cache.clear(),\r\n    size: () => cache.size\r\n  };\r\n};\r\n"],"mappings":"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","ignoreList":[]}