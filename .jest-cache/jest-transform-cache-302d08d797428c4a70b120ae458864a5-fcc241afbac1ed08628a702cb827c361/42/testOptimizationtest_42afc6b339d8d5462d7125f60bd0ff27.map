{"version":3,"names":["_react","require","_App","_interopRequireDefault","_jsxRuntime","e","__esModule","default","describe","beforeEach","jest","useFakeTimers","afterEach","runOnlyPendingTimers","useRealTimers","it","startTime","performance","now","render","jsx","endTime","expect","toBeLessThan","screen","getByText","toBeInTheDocument","startButton","i","fireEvent","click","unmount","advanceTimersByTime","not","toThrow"],"sources":["testOptimization.test.js"],"sourcesContent":["import { render, screen, fireEvent } from '@testing-library/react';\nimport BirthdayPianoSurprise from '../../App';\n\n// Performance-focused tests\ndescribe('Performance Optimization Tests', () => {\n  beforeEach(() => {\n    jest.useFakeTimers();\n  });\n\n  afterEach(() => {\n    jest.runOnlyPendingTimers();\n    jest.useRealTimers();\n  });\n\n  it('should render initial screen quickly', () => {\n    const startTime = performance.now();\n    render(<BirthdayPianoSurprise />);\n    const endTime = performance.now();\n    \n    expect(endTime - startTime).toBeLessThan(100); // Should render in under 100ms\n    expect(screen.getByText('ðŸŽ‰ HAPPY BIRTHDAY! ðŸŽ‰')).toBeInTheDocument();\n  });\n\n  it('should handle multiple rapid clicks without performance degradation', () => {\n    render(<BirthdayPianoSurprise />);\n    const startButton = screen.getByText('ðŸŽµ Start Playing');\n    \n    const startTime = performance.now();\n    \n    // Simulate rapid clicking\n    for (let i = 0; i < 10; i++) {\n      fireEvent.click(startButton);\n    }\n    \n    const endTime = performance.now();\n    expect(endTime - startTime).toBeLessThan(50); // Should handle rapid clicks efficiently\n  });\n\n  it('should not create memory leaks with timers', () => {\n    const { unmount } = render(<BirthdayPianoSurprise />);\n    \n    // Start game to create timers\n    const startButton = screen.getByText('ðŸŽµ Start Playing');\n    fireEvent.click(startButton);\n    \n    // Advance timers\n    jest.advanceTimersByTime(1000);\n    \n    // Unmount should clean up without errors\n    expect(() => unmount()).not.toThrow();\n  });\n\n  it('should efficiently handle media loading', async () => {\n    const startTime = performance.now();\n    render(<BirthdayPianoSurprise />);\n    \n    // Media loading should not block initial render\n    expect(screen.getByText('ðŸŽ‰ HAPPY BIRTHDAY! ðŸŽ‰')).toBeInTheDocument();\n    \n    const endTime = performance.now();\n    expect(endTime - startTime).toBeLessThan(100);\n  });\n});\n"],"mappings":"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","ignoreList":[]}