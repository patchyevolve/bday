{"version":3,"names":["_react","_interopRequireWildcard","require","_celebrationStore","_interopRequireDefault","_lucideReact","_FloatingHeartsBackground","_KukuMessage","_mediaLoader","_jsxRuntime","e","__esModule","default","t","WeakMap","r","n","o","i","f","__proto__","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","BirthdayPianoSurprise","setName","setMessage","useCelebrationStore","gameStarted","setGameStarted","useState","gameCompleted","setGameCompleted","showCelebration","setShowCelebration","tilesHit","setTilesHit","tilesSpawned","setTilesSpawned","score","setScore","timeLeft","setTimeLeft","isUnlocked","setIsUnlocked","currentPoem","setCurrentPoem","fallingTiles","setFallingTiles","gameOver","setGameOver","lives","setLives","endlessMode","setEndlessMode","showChoiceMenu","setShowChoiceMenu","showSpecialPoem","setShowSpecialPoem","showKukuMessage","setShowKukuMessage","welcomeMusicStarted","setWelcomeMusicStarted","powerUps","setPowerUps","activePowerUps","setActivePowerUps","invincible","active","slowMotion","scoreMultiplier","multiplier","combo","setCombo","maxCombo","setMaxCombo","isMuted","setIsMuted","showPhotoGallery","setShowPhotoGallery","showVideoGallery","setShowVideoGallery","selectedPhoto","setSelectedPhoto","selectedVideo","setSelectedVideo","pictures","setPictures","videos","setVideos","mediaLoading","setMediaLoading","floatingElements","useMemo","elements","push","type","left","Math","random","top","animationDelay","size","audioContextRef","useRef","activeOscillatorsRef","Set","gameLoopRef","lastTileSpawnRef","backgroundMusicRef","gameStartTimeRef","targetDate","Date","happyBirthdayNotes","note","frequency","duration","powerUpTypes","heart","emoji","color","effect","star","lightning","rainbow","golden","poems","specialPoem","useEffect","checkUnlockStatus","now","timeDiff","days","floor","hours","minutes","seconds","interval","setInterval","clearInterval","randomPoem","length","playWelcomeMusic","useCallback","current","window","AudioContext","webkitAudioContext","audioContext","playGentleChord","frequencies","delay","setTimeout","forEach","freq","index","oscillator","createOscillator","gainNode","createGain","connect","destination","setValueAtTime","currentTime","gain","linearRampToValueAtTime","exponentialRampToValueAtTime","start","stop","prev","updated","keys","key","occupiedColumns","gameSpeed","lastSpeedIncrease","spawnPowerUp","availableColumns","filter","col","isColumnOccupied","some","tile","column","pu","types","newPowerUp","id","y","speed","width","height","spawnNewTile","occupiedSet","map","gameTime","speedMultiplier","progress","noteIndex","min","newTile","spawned","newOccupied","add","updateTiles","prevTiles","updatedTiles","remainingTiles","prevLives","newLives","updatePowerUps","prevPowerUps","updatedPowerUps","powerUp","gameLoop","spawnInterval","max","playBackgroundMusic","clearTimeout","playMelodyNote","stopBackgroundMusic","timer","loadMedia","mediaData","loadMediaFiles","console","log","error","baseInterval","shouldSpawn","playNote","onended","delete","oldestOsc","values","next","value","collectPowerUp","powerUpId","find","p","collectionElement","document","createElement","className","style","innerHTML","querySelector","appendChild","parentNode","removeChild","handleTileClick","tileId","tileIndex","findIndex","burstElement","baseScore","comboBonus","finalScore","prevScore","newCombo","prevHit","newHit","openKukuMessage","resetGame","jsxs","children","element","animation","jsx","Heart","animationDuration","Music","Lock","Clock","Fragment","onClick","slice","picture","src","url","alt","muted","loop","preload","playsInline","onError","target","display","boxShadow","isVisible","onClose","newMutedState","state","resume","title","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","heights","randomHeight","video","aspectRatios","randomAspect","onMouseEnter","play","catch","err","onMouseLeave","pause","onLoadedMetadata","onCanPlay","controls","autoPlay","heartCount","opacity","pulseDuration","ceil","Array","_","onMouseDown","onTouchStart","preventDefault","touchAction","userSelect","WebkitTapHighlightColor","_default","exports"],"sources":["App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\nimport useCelebrationStore from './store/celebrationStore';\nimport { Heart, Music, Lock, Clock } from 'lucide-react';\nimport FloatingHeartsBackground from './components/FloatingHeartsBackground';\nimport KukuMessage from './components/KukuMessage';\nimport { loadMediaFiles } from './utils/mediaLoader';\n\nconst BirthdayPianoSurprise = () => {\n  const { setName, setMessage } = useCelebrationStore();\n  const [gameStarted, setGameStarted] = useState(false);\n  const [gameCompleted, setGameCompleted] = useState(false);\n  const [showCelebration, setShowCelebration] = useState(false);\n  // const [currentTile, setCurrentTile] = useState(0); // Unused variable\n  const [tilesHit, setTilesHit] = useState(0);\n  const [tilesSpawned, setTilesSpawned] = useState(0);\n  const [score, setScore] = useState(0);\n  const [timeLeft, setTimeLeft] = useState('');\n  const [isUnlocked, setIsUnlocked] = useState(false);\n  const [currentPoem, setCurrentPoem] = useState('');\n  const [fallingTiles, setFallingTiles] = useState([]);\n  const [gameOver, setGameOver] = useState(false);\n  const [lives, setLives] = useState(3);\n  const [endlessMode, setEndlessMode] = useState(false);\n  const [showChoiceMenu, setShowChoiceMenu] = useState(false);\n  \n\n  const [showSpecialPoem, setShowSpecialPoem] = useState(false);\n  const [showKukuMessage, setShowKukuMessage] = useState(false);\n  const [welcomeMusicStarted, setWelcomeMusicStarted] = useState(false);\n  const [powerUps, setPowerUps] = useState([]);\n  const [activePowerUps, setActivePowerUps] = useState({\n    invincible: { active: false, timeLeft: 0 },\n    slowMotion: { active: false, timeLeft: 0 },\n    scoreMultiplier: { active: false, timeLeft: 0, multiplier: 1 }\n  });\n  const [combo, setCombo] = useState(0);\n  const [maxCombo, setMaxCombo] = useState(0);\n  const [isMuted, setIsMuted] = useState(false);\n\n  // Gallery state variables\n  const [showPhotoGallery, setShowPhotoGallery] = useState(false);\n  const [showVideoGallery, setShowVideoGallery] = useState(false);\n  const [selectedPhoto, setSelectedPhoto] = useState(null);\n  const [selectedVideo, setSelectedVideo] = useState(null);\n  const [pictures, setPictures] = useState([]);\n  const [videos, setVideos] = useState([]);\n  const [mediaLoading, setMediaLoading] = useState(true);\n\n  // Generate floating elements for welcome screen\n  const floatingElements = useMemo(() => {\n    const elements = [];\n    // Hearts\n    for (let i = 0; i < 8; i++) {\n      elements.push({\n        type: 'heart',\n        left: Math.random() * 100,\n        top: Math.random() * 100,\n        animationDelay: Math.random() * 6,\n        size: 4 + Math.random() * 2\n      });\n    }\n    // Music notes\n    for (let i = 0; i < 6; i++) {\n      elements.push({\n        type: 'note',\n        left: Math.random() * 100,\n        top: Math.random() * 100,\n        animationDelay: Math.random() * 8,\n        size: 3 + Math.random() * 2\n      });\n    }\n    // Sparkles\n    for (let i = 0; i < 10; i++) {\n      elements.push({\n        type: 'sparkle',\n        left: Math.random() * 100,\n        top: Math.random() * 100,\n        animationDelay: Math.random() * 10,\n        size: 2 + Math.random() * 1.5\n      });\n    }\n    return elements;\n  }, []);\n  \n  // Audio context and oscillators ref\n  const audioContextRef = useRef(null);\n  const activeOscillatorsRef = useRef(new Set());\n  const gameLoopRef = useRef(null);\n  const lastTileSpawnRef = useRef(0);\n  const backgroundMusicRef = useRef(null);\n  const gameStartTimeRef = useRef(null);\n  \n  // Target date: Setting to a past date to unlock the app\n  const targetDate = useMemo(() => new Date('2025-09-23T00:00:00'), []);\n  \n  // Happy Birthday melody (simplified notes) - wrapped in useMemo for performance\n  const happyBirthdayNotes = useMemo(() => [\n    { note: 'C', frequency: 261.63, duration: 500 },\n    { note: 'C', frequency: 261.63, duration: 250 },\n    { note: 'D', frequency: 293.66, duration: 750 },\n    { note: 'C', frequency: 261.63, duration: 750 },\n    { note: 'F', frequency: 349.23, duration: 750 },\n    { note: 'E', frequency: 329.63, duration: 1500 },\n    { note: 'C', frequency: 261.63, duration: 500 },\n    { note: 'C', frequency: 261.63, duration: 250 },\n    { note: 'D', frequency: 293.66, duration: 750 },\n    { note: 'C', frequency: 261.63, duration: 750 },\n    { note: 'G', frequency: 392.00, duration: 750 },\n    { note: 'F', frequency: 349.23, duration: 1500 }\n  ], []);\n\n  // Power-up types\n  const powerUpTypes = useMemo(() => ({\n    heart: { emoji: '💖', color: 'from-red-400 to-pink-500', effect: 'Restore Life' },\n    star: { emoji: '⭐', color: 'from-yellow-400 to-orange-500', effect: 'Invincible' },\n    lightning: { emoji: '⚡', color: 'from-blue-400 to-purple-500', effect: 'Slow Motion' },\n    rainbow: { emoji: '🌈', color: 'from-purple-400 to-pink-500', effect: 'Double Points' },\n    golden: { emoji: '✨', color: 'from-yellow-300 to-yellow-600', effect: '3x Multiplier' }\n  }), []);\n  \n\n  // Romantic poems collection\n  const poems = useMemo(() => [\n    \"In your eyes, I see the stars,\\nIn your smile, my world ignites.\\nEvery moment spent with you,\\nMakes everything feel right. ✨\",\n    \n    \"You are my sunshine on cloudy days,\\nMy rainbow after every storm.\\nWith you, life becomes a beautiful song,\\nAnd love takes its perfect form. 🌈\",\n    \n    \"Like flowers bloom in spring,\\nMy love for you grows each day.\\nYou're the melody in my heart,\\nThe words I long to say. 🌸\",\n    \n    \"Your laughter is my favorite sound,\\nYour happiness, my greatest treasure.\\nIn this dance of life we share,\\nYou're my rhythm and my measure. 💃\",\n    \n    \"When I count my blessings,\\nI count you twice, maybe thrice.\\nYou've made my world so beautiful,\\nMy heart's own paradise. 💖\",\n    \n    \"You're the coffee to my morning,\\nThe stars to my night sky.\\nWith you, every ordinary moment\\nBecomes a reason to fly high. ☕✨\",\n    \n    \"Time stands still when you're near,\\nThe world fades away but you.\\nIn your arms I find my home,\\nIn your heart, my dreams come true. 🏠💕\",\n    \n    \"You paint colors in my gray days,\\nBring music to my silent nights.\\nWith every kiss, every touch,\\nYou make everything feel right. 🎨🎵\",\n    \n    \"Distance means nothing when love means everything,\\nMiles apart but hearts as one.\\nEvery sunset brings me closer\\nTo the day our love has won. 🌅❤️\",\n    \n    \"In a world of temporary things,\\nYou are my constant, my forever.\\nThrough seasons change and years go by,\\nMy love for you will fade never. 🌿♾️\",\n    \n    \"You're the answer to my prayers,\\nThe wish upon my shooting star.\\nNo matter where life takes us,\\nYou'll always be my guiding star. ⭐🙏\",\n    \n    \"Every heartbeat whispers your name,\\nEvery breath carries your love.\\nYou're my earth, my moon, my sun,\\nMy blessing sent from above. 🌍🌙☀️\",\n    \n    \"In your smile I find my courage,\\nIn your voice I hear my song.\\nWith you beside me always,\\nI know where I belong. 😊🎶\",\n    \n    \"Love letters written in the stars,\\nPromises made with morning dew.\\nEvery day I fall deeper,\\nMore madly in love with you. 💌⭐\",\n    \n    \"You're my favorite notification,\\nMy sweetest dream come true.\\nIn this crazy, busy world,\\nMy peace is found in you. 📱💤\"\n  ], []);\n\n  // Special custom poem\n  const specialPoem = useMemo(() => \n    \"In depths of heart, a love resides,\\nA flame that burns, a love that guides.\\nA love so pure, so strong, so true,\\nA love for you, forever new.\\n\\nWith every beat, my heart does yearn,\\nFor your sweet love, a wish to learn.\\nA love that grows, with every day,\\nA love that shines, come what may.\\n\\nYour eyes, a star, a guiding light,\\nYour smile, a sun, so warm and bright.\\nYour touch, a solace, soft and deep,\\nYour love, a treasure, I'll forever keep.\\n\\nSo let us vow, to love and care,\\nTo face life's storms, together we'll share.\\nA bond unbroken, a love divine,\\nForever yours, and ever mine. 💖\"\n  , []);\n  \n  // Check if app should be unlocked\n  useEffect(() => {\n    // Force unlock the app\n    //setIsUnlocked(true);\n    \n    const checkUnlockStatus = () => {\n      const now = new Date();\n      if (now >= targetDate) {\n        setIsUnlocked(true);\n      } else {\n        const timeDiff = targetDate - now;\n        const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));\n        const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n        const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));\n        const seconds = Math.floor((timeDiff % (1000 * 60)) / 1000);\n        \n        setTimeLeft(`${days}d ${hours}h ${minutes}m ${seconds}s`);\n      }\n    };\n    \n    checkUnlockStatus();\n    const interval = setInterval(checkUnlockStatus, 1000);\n    return () => clearInterval(interval);\n  }, [targetDate]);\n  \n  // Select random poem on component mount\n  useEffect(() => {\n    if (isUnlocked) {\n      const randomPoem = poems[Math.floor(Math.random() * poems.length)];\n      setCurrentPoem(randomPoem);\n    }\n  }, [isUnlocked, poems]);\n\n\n  // Play gentle welcome music (without dingling sound)\n  const playWelcomeMusic = useCallback(() => {\n    if (!audioContextRef.current) {\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n    }\n\n    const audioContext = audioContextRef.current;\n    const playGentleChord = (frequencies, delay = 0) => {\n      setTimeout(() => {\n        frequencies.forEach((freq, index) => {\n          const oscillator = audioContext.createOscillator();\n          const gainNode = audioContext.createGain();\n          \n          oscillator.connect(gainNode);\n          gainNode.connect(audioContext.destination);\n          \n          oscillator.frequency.setValueAtTime(freq, audioContext.currentTime);\n          oscillator.type = 'sine';\n          \n          const now = audioContext.currentTime;\n          gainNode.gain.setValueAtTime(0, now);\n          gainNode.gain.linearRampToValueAtTime(0.05, now + 0.2);\n          gainNode.gain.exponentialRampToValueAtTime(0.0001, now + 2.5);\n          \n          oscillator.start(now);\n          oscillator.stop(now + 2.5);\n        });\n      }, delay);\n    };\n\n    // Play a softer, more harmonious melody\n    playGentleChord([261.63, 329.63, 392.00], 0);    // C major chord\n    playGentleChord([293.66, 369.99, 440.00], 1200); // D major chord  \n    playGentleChord([261.63, 329.63, 392.00], 2400); // C major chord\n  }, []);\n\n  // Update active power-ups timer\n  useEffect(() => {\n    if (gameStarted && !gameOver && !gameCompleted) {\n      const interval = setInterval(() => {\n        setActivePowerUps(prev => {\n          const updated = { ...prev };\n          Object.keys(updated).forEach(key => {\n            if (updated[key].active && updated[key].timeLeft > 0) {\n              updated[key].timeLeft -= 100;\n              if (updated[key].timeLeft <= 0) {\n                updated[key].active = false;\n                if (key === 'scoreMultiplier') {\n                  updated[key].multiplier = 1;\n                }\n              }\n            }\n          });\n          return updated;\n        });\n      }, 100);\n      return () => clearInterval(interval);\n    }\n  }, [gameStarted, gameOver, gameCompleted]);\n\n  // Track occupied columns to prevent overlap\n  const occupiedColumns = useRef(new Set());\n  const gameSpeed = useRef(1);\n  const lastSpeedIncrease = useRef(0);\n\n  // Define spawnPowerUp first since it's used by spawnNewTile\n  const spawnPowerUp = useCallback(() => {\n    if (powerUps.length >= 2) return; // Max 2 power-ups at once\n    \n    const availableColumns = [0, 1, 2, 3].filter(col => {\n      // Check if column is occupied by a tile or another power-up\n      const isColumnOccupied = fallingTiles.some(tile => tile.column === col) || \n                              powerUps.some(pu => pu.column === col);\n      return !isColumnOccupied;\n    });\n    \n    if (availableColumns.length === 0) return;\n    \n    const column = availableColumns[Math.floor(Math.random() * availableColumns.length)];\n    const types = Object.keys(powerUpTypes);\n    const type = types[Math.floor(Math.random() * types.length)];\n    \n    const newPowerUp = {\n      id: Date.now() + Math.random(),\n      type: type,\n      column: column,\n      y: -80,\n      speed: 1.5 + (gameSpeed.current * 1.5), // Slightly slower than tiles\n      width: 60,\n      height: 60\n    };\n    \n    setPowerUps(prev => [...prev, newPowerUp]);\n  }, [powerUps, fallingTiles, powerUpTypes, gameSpeed]);\n\n  const spawnNewTile = useCallback(() => {\n    if (fallingTiles.length >= 4) {\n      // Check if there are any columns that should be marked as unoccupied\n      const occupiedSet = new Set(fallingTiles.map(tile => tile.column));\n      if (occupiedSet.size < 4) {\n        // Some columns are actually free, update the occupiedColumns ref\n        occupiedColumns.current = occupiedSet;\n      } else {\n        return; // All columns are actually occupied\n      }\n    }\n    \n    const now = Date.now();\n    const gameTime = (now - gameStartTimeRef.current) / 1000; // Convert to seconds\n    \n    // Speed progression:\n    // - First 30 seconds: base speed (1.5x)\n    // - Next 10 seconds: gradually increase to 2x\n    // - After 40 seconds: stay at 2x\n    let speedMultiplier = 1.5;\n    if (gameTime > 30 && gameTime <= 40) {\n      // Ramp up from 1.5x to 2x over 10 seconds\n      const progress = (gameTime - 30) / 10; // 0 to 1 over 10 seconds\n      speedMultiplier = 1.5 + (0.5 * progress);\n    } else if (gameTime > 40) {\n      // Stay at 2x after 40 seconds\n      speedMultiplier = 2;\n    }\n    \n    // Get available columns (0-3)\n    const availableColumns = [0, 1, 2, 3].filter(col => !occupiedColumns.current.has(col));\n    if (availableColumns.length === 0) return; // All columns occupied\n    \n    const column = availableColumns[Math.floor(Math.random() * availableColumns.length)];\n    const noteIndex = endlessMode ? tilesSpawned % happyBirthdayNotes.length : Math.min(tilesSpawned, happyBirthdayNotes.length - 1);\n    \n    const newTile = {\n      id: now + Math.random(),\n      note: happyBirthdayNotes[noteIndex],\n      column: column,\n      y: -80,\n      speed: 3 * speedMultiplier, // Increased base speed from 2 to 3\n      noteIndex: noteIndex,\n      spawned: true\n    };\n    \n    // Update occupied columns\n    const newOccupied = new Set(occupiedColumns.current);\n    newOccupied.add(column);\n    occupiedColumns.current = newOccupied;\n    \n    setFallingTiles(prev => [...prev, newTile]);\n    setTilesSpawned(prev => prev + 1);\n    \n    // Spawn power-up with lower probability to prevent clutter\n    if (Math.random() < 0.1) { // 10% chance for power-up\n      spawnPowerUp();\n    }\n  }, [fallingTiles, tilesSpawned, happyBirthdayNotes, endlessMode, spawnPowerUp]);\n\n  const updateTiles = useCallback(() => {\n    setFallingTiles(prevTiles => {\n      // First, update all tile positions\n      const updatedTiles = prevTiles.map(tile => ({\n        ...tile,\n        y: tile.y + tile.speed,\n        speed: tile.speed + 0.01 // Gradually increase speed\n      }));\n      \n      // Then check for tiles that need to be removed\n      const remainingTiles = [];\n      const newOccupied = new Set();\n      \n      updatedTiles.forEach(tile => {\n        if (tile.y < 500) { // If tile is still on screen\n          remainingTiles.push(tile);\n          newOccupied.add(tile.column);\n        } else if (tile.y >= 500 && !activePowerUps.invincible.active) {\n          // Only penalize if not in invincible mode\n          setLives(prevLives => {\n            const newLives = prevLives - 1;\n            if (newLives <= 0) {\n              setGameOver(true);\n            }\n            return newLives;\n          });\n          setCombo(0);\n        }\n      });\n      \n      // Update the occupied columns ref\n      occupiedColumns.current = newOccupied;\n      \n      return remainingTiles;\n    });\n  }, [activePowerUps.invincible.active]);\n\n  const updatePowerUps = useCallback(() => {\n    setPowerUps(prevPowerUps => {\n      // Update positions of existing power-ups\n      const updatedPowerUps = prevPowerUps.map(powerUp => ({\n        ...powerUp,\n        y: powerUp.y + powerUp.speed\n      }));\n      \n      // Remove power-ups that are off screen\n      return updatedPowerUps.filter(powerUp => powerUp.y < 500);\n    });\n  }, []);\n\n  // Game loop\n  useEffect(() => {\n    if (!gameStarted || gameOver || gameCompleted) return;\n    \n    const gameLoop = setInterval(() => {\n      updateTiles();\n      updatePowerUps();\n      \n      // Spawn new tiles at intervals\n      const now = Date.now();\n      const spawnInterval = Math.max(800 - (gameSpeed.current * 100), 300); // Faster spawning as speed increases\n      \n      if (now - lastTileSpawnRef.current > spawnInterval) {\n        spawnNewTile();\n        lastTileSpawnRef.current = now;\n      }\n      \n    }, 1000/60); // ~60 FPS\n    \n    return () => clearInterval(gameLoop);\n  }, [gameStarted, gameOver, gameCompleted, updateTiles, updatePowerUps, spawnNewTile]);\n\n  // Play background music with Happy Birthday melody\n  const playBackgroundMusic = useCallback(() => {\n    if (!audioContextRef.current) {\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n    }\n\n    // Stop any existing background music\n    if (backgroundMusicRef.current) {\n      clearTimeout(backgroundMusicRef.current);\n    }\n\n    const playMelodyNote = (noteIndex = 0) => {\n      if (noteIndex >= happyBirthdayNotes.length) {\n        // Restart melody after a pause\n        backgroundMusicRef.current = setTimeout(() => playMelodyNote(0), 2000);\n        return;\n      }\n\n      const note = happyBirthdayNotes[noteIndex];\n      const audioContext = audioContextRef.current;\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n\n      oscillator.connect(gainNode);\n      gainNode.connect(audioContext.destination);\n\n      oscillator.frequency.setValueAtTime(note.frequency, audioContext.currentTime);\n      oscillator.type = 'sine';\n\n      const now = audioContext.currentTime;\n      \n      // Softer background music volume\n      gainNode.gain.setValueAtTime(0, now);\n      gainNode.gain.linearRampToValueAtTime(isMuted ? 0.00001 : 0.08, now + 0.05); // Gentle attack\n      gainNode.gain.exponentialRampToValueAtTime(isMuted ? 0.00001 : 0.04, now + 0.2); // Soft decay\n      gainNode.gain.setValueAtTime(isMuted ? 0.00001 : 0.04, now + note.duration / 1000 - 0.1); // Sustain\n      gainNode.gain.exponentialRampToValueAtTime(0.00001, now + note.duration / 1000); // Release\n\n      oscillator.start(now);\n      oscillator.stop(now + note.duration / 1000);\n\n      // Schedule next note\n      backgroundMusicRef.current = setTimeout(() => playMelodyNote(noteIndex + 1), note.duration);\n    };\n\n    playMelodyNote(0);\n  }, [happyBirthdayNotes, isMuted]);\n\n  // Stop background music\n  const stopBackgroundMusic = useCallback(() => {\n    if (backgroundMusicRef.current) {\n      clearTimeout(backgroundMusicRef.current);\n      backgroundMusicRef.current = null;\n    }\n  }, []);\n\n  // Start background music when celebration screen shows\n  useEffect(() => {\n    if (showCelebration && !isMuted) {\n      // Small delay to ensure the screen has rendered\n      const timer = setTimeout(() => {\n        playBackgroundMusic();\n      }, 500);\n      return () => clearTimeout(timer);\n    } else if (!showCelebration) {\n      stopBackgroundMusic();\n    }\n  }, [showCelebration, isMuted, playBackgroundMusic, stopBackgroundMusic]);\n\n  // Load media files only once on component mount\n  useEffect(() => {\n    const loadMedia = async () => {\n      setMediaLoading(true);\n      try {\n        const mediaData = await loadMediaFiles();\n        console.log('Loaded media data:', mediaData);\n        setPictures(mediaData.pictures);\n        setVideos(mediaData.videos);\n        console.log('Videos set:', mediaData.videos);\n      } catch (error) {\n        console.error('Error loading media:', error);\n        // Fallback to empty arrays\n        setPictures([]);\n        setVideos([]);\n      } finally {\n        setMediaLoading(false);\n      }\n    };\n\n    loadMedia();\n  }, []); // Only run once on mount\n\n  // Game loop for falling tiles - optimized with interval instead of requestAnimationFrame\n  const gameLoop = useCallback(() => {\n    if (!gameStarted || gameOver || gameCompleted) return;\n\n    const currentTime = Date.now();\n    \n    // Spawn new tiles every 2 seconds, but increase frequency as game progresses\n    const baseInterval = activePowerUps.slowMotion.active ? 2500 : 1500;\n    const spawnInterval = Math.max(baseInterval - (tilesSpawned * 100), 800); // Faster spawning over time\n    \n    // In endless mode, keep spawning tiles indefinitely\n    // In normal mode, spawn tiles until we have enough for the full melody\n    const shouldSpawn = endlessMode ? true : tilesSpawned < happyBirthdayNotes.length + 2; // Extra tiles to ensure completion\n    \n    if (currentTime - lastTileSpawnRef.current > spawnInterval && shouldSpawn) {\n      const noteIndex = endlessMode ? tilesSpawned % happyBirthdayNotes.length : Math.min(tilesSpawned, happyBirthdayNotes.length - 1);\n      const newTile = {\n        id: Date.now() + Math.random(), // Better unique ID\n        note: happyBirthdayNotes[noteIndex],\n        column: Math.floor(Math.random() * 4), // 4 columns\n        y: -80, // Start above screen\n        speed: activePowerUps.slowMotion.active ? \n          (2 + Math.floor(tilesSpawned / 5)) : \n          (4 + Math.floor(tilesSpawned / 3)), // Slower in slow motion\n        noteIndex: noteIndex,\n        spawned: true\n      };\n      \n      setFallingTiles(prev => [...prev, newTile]);\n      setTilesSpawned(prev => prev + 1);\n      lastTileSpawnRef.current = currentTime;\n      \n      // Chance to spawn power-up\n      spawnPowerUp();\n    }\n\n    // Update tile positions\n    setFallingTiles(prev => prev.map(tile => ({\n      ...tile,\n      y: tile.y + tile.speed\n    })).filter(tile => {\n      // Remove tiles that hit bottom (lose life unless invincible)\n      if (tile.y > 450) { // Adjusted for game container height\n        if (!activePowerUps.invincible.active) {\n          setLives(prevLives => {\n            const newLives = prevLives - 1;\n            if (newLives <= 0) {\n              setGameOver(true);\n            }\n            return newLives;\n          });\n          setCombo(0); // Reset combo on miss\n        }\n        return false;\n      }\n      return true;\n    }));\n\n    // Update power-up positions\n    setPowerUps(prev => prev.map(powerUp => ({\n      ...powerUp,\n      y: powerUp.y + powerUp.speed\n    })).filter(powerUp => powerUp.y < 500)); // Remove power-ups that fall off screen\n  }, [gameStarted, gameOver, gameCompleted, tilesSpawned, happyBirthdayNotes, endlessMode, activePowerUps.slowMotion.active, activePowerUps.invincible.active, spawnPowerUp]);\n  \n\n\n  // Start game loop when game starts - using setInterval for smoother performance\n  useEffect(() => {\n    if (gameStarted && !gameOver && !gameCompleted) {\n      gameLoopRef.current = setInterval(gameLoop, 50); // 20 FPS for smoother performance\n      gameStartTimeRef.current = Date.now();\n    }\n    \n    return () => {\n      if (gameLoopRef.current) {\n        clearInterval(gameLoopRef.current);\n      }\n    };\n  }, [gameStarted, gameOver, gameCompleted, gameLoop]);\n  \n  // Play a musical note\n  const playNote = useCallback((frequency, duration) => {\n    if (!audioContextRef.current) {\n      audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();\n    }\n    \n    const audioContext = audioContextRef.current;\n    const oscillator = audioContext.createOscillator();\n    const gainNode = audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(audioContext.destination);\n    \n    oscillator.frequency.setValueAtTime(frequency, audioContext.currentTime);\n    oscillator.type = 'sine';\n    \n    const now = audioContext.currentTime;\n    \n    // ADSR envelope for smoother sound\n    gainNode.gain.setValueAtTime(0, now);\n    gainNode.gain.linearRampToValueAtTime(0.2, now + 0.01);\n    gainNode.gain.exponentialRampToValueAtTime(0.05, now + 0.1);\n    gainNode.gain.setValueAtTime(0.05, now + duration / 1000 - 0.1);\n    gainNode.gain.exponentialRampToValueAtTime(0.00001, now + duration / 1000);\n\n    oscillator.start(now);\n    oscillator.stop(now + duration / 1000);\n    \n    // Add to active oscillators set\n    activeOscillatorsRef.current.add(oscillator);\n    \n    // Clean up when note ends\n    oscillator.onended = () => {\n      activeOscillatorsRef.current.delete(oscillator);\n    };\n    \n    // Clean up old oscillators if too many\n    if (activeOscillatorsRef.current.size > 6) {\n      const oldestOsc = activeOscillatorsRef.current.values().next().value;\n      if (oldestOsc) {\n        try {\n          oldestOsc.stop();\n        } catch (e) {\n          console.error('Error stopping oscillator:', e);\n        }\n        activeOscillatorsRef.current.delete(oldestOsc);\n      }\n    }\n  }, []);\n\n  // Handle power-up collection\n  const collectPowerUp = useCallback((powerUpId, type) => {\n    setPowerUps(prev => {\n      const powerUp = prev.find(p => p.id === powerUpId);\n      if (!powerUp) return prev;\n      \n      // Add visual collection effect\n      const collectionElement = document.createElement('div');\n      collectionElement.className = 'absolute pointer-events-none z-50';\n      collectionElement.style.left = `${(powerUp.column * 25) + 12.5}%`;\n      collectionElement.style.top = `${powerUp.y + 30}px`;\n      collectionElement.innerHTML = `\n        <div class=\"text-3xl animate-bounce\" style=\"animation-duration: 0.8s;\">\n          ${powerUpTypes[type].emoji}\n        </div>\n        <div class=\"text-yellow-300 text-xl animate-ping\" style=\"animation-duration: 1s;\">\n          ✨✨✨\n        </div>\n      `;\n      document.querySelector('.game-area')?.appendChild(collectionElement);\n      \n      // Remove collection effect after animation\n      setTimeout(() => {\n        if (collectionElement.parentNode) {\n          collectionElement.parentNode.removeChild(collectionElement);\n        }\n      }, 1500);\n      \n      return prev.filter(p => p.id !== powerUpId);\n    });\n    \n    // Apply power-up effect\n    switch (type) {\n      case 'heart':\n        setLives(prev => Math.min(prev + 1, 5)); // Max 5 lives\n        break;\n      case 'star':\n        setActivePowerUps(prev => ({\n          ...prev,\n          invincible: { active: true, timeLeft: 5000 }\n        }));\n        break;\n      case 'lightning':\n        setActivePowerUps(prev => ({\n          ...prev,\n          slowMotion: { active: true, timeLeft: 8000 }\n        }));\n        break;\n      case 'rainbow':\n        setActivePowerUps(prev => ({\n          ...prev,\n          scoreMultiplier: { active: true, timeLeft: 10000, multiplier: 2 }\n        }));\n        break;\n      case 'golden':\n        setActivePowerUps(prev => ({\n          ...prev,\n          scoreMultiplier: { active: true, timeLeft: 8000, multiplier: 3 }\n        }));\n        break;\n      default:\n        break;\n    }\n    \n    // Play collection sound - Commented out to remove sound\n    // try {\n    //   playNote(523.25, 200); // High C\n    // } catch (error) {\n    //   console.log('Audio playback failed:', error);\n    // }\n  }, [powerUpTypes]);\n\n  const handleTileClick = useCallback((tileId) => {\n    // Play the note immediately for better feedback\n    try {\n      playNote(261.63, 300); // Quick feedback sound\n    } catch (error) {\n      console.log('Audio playback failed:', error);\n    }\n    \n    setFallingTiles(prev => {\n      const tileIndex = prev.findIndex(tile => tile.id === tileId);\n      if (tileIndex === -1) return prev;\n      \n      const tile = prev[tileIndex];\n      \n      // Play the actual note\n      setTimeout(() => {\n        try {\n          playNote(tile.note.frequency, tile.note.duration);\n        } catch (error) {\n          console.log('Audio playback failed:', error);\n        }\n      }, 50);\n      \n      // Add visual feedback - create a burst effect\n      const burstElement = document.createElement('div');\n      burstElement.className = 'absolute pointer-events-none z-50';\n      burstElement.style.left = `${(tile.column * 25) + 12.5}%`;\n      burstElement.style.top = `${tile.y + 30}px`;\n      burstElement.innerHTML = `\n        <div class=\"text-2xl animate-bounce\" style=\"animation-duration: 0.6s;\">\n          ${tile.note.note}\n        </div>\n        <div class=\"text-yellow-300 text-lg animate-ping\" style=\"animation-duration: 0.8s;\">\n          ✨\n        </div>\n      `;\n      document.querySelector('.game-area').appendChild(burstElement);\n      \n      // Remove burst effect after animation\n      setTimeout(() => {\n        if (burstElement.parentNode) {\n          burstElement.parentNode.removeChild(burstElement);\n        }\n      }, 1000);\n      \n      // Remove the clicked tile immediately\n      return prev.filter(t => t.id !== tileId);\n    });\n    \n    // Update score with multiplier and combo\n    const baseScore = 10;\n    const multiplier = activePowerUps.scoreMultiplier.active ? activePowerUps.scoreMultiplier.multiplier : 1;\n    const comboBonus = Math.floor(combo / 5); // Bonus every 5 combo\n    const finalScore = baseScore * multiplier + comboBonus;\n    \n    setScore(prevScore => prevScore + finalScore);\n    setCombo(prev => {\n      const newCombo = prev + 1;\n      setMaxCombo(current => Math.max(current, newCombo));\n      return newCombo;\n    });\n    \n    setTilesHit(prevHit => {\n      const newHit = prevHit + 1;\n      \n      // Check if game is completed - need to hit all tiles\n      if (newHit >= happyBirthdayNotes.length) {\n        if (endlessMode) {\n          // In endless mode, continue spawning tiles\n          setTilesSpawned(0);\n          setTilesHit(0);\n          return 0; // Reset hit count for endless mode\n        } else {\n          // Show choice menu after game completion\n          setTimeout(() => {\n            setGameCompleted(true);\n            setShowChoiceMenu(true);\n            setName(\"Beautiful Wifey\");\n            setMessage(\"Happy Birthday! You've unlocked a special surprise.\");\n          }, 500);\n        }\n      }\n      \n      return newHit;\n    });\n  }, [happyBirthdayNotes.length, endlessMode, activePowerUps.scoreMultiplier.active, activePowerUps.scoreMultiplier.multiplier, combo, setName, setMessage]);\n  \n  // Handler for opening Kuku message\n  const openKukuMessage = useCallback(() => {\n    console.log('Opening Kuku message, current state:', showKukuMessage);\n    setShowKukuMessage(true);\n    console.log('Kuku message state set to true');\n  }, [showKukuMessage]);\n  \n  const resetGame = () => {\n    setGameStarted(false);\n    setGameCompleted(false);\n    setShowCelebration(false);\n    setScore(0);\n    setFallingTiles([]);\n    setGameOver(false);\n    setLives(3);\n    setTilesHit(0);\n    setTilesSpawned(0);\n    setEndlessMode(false);\n    setShowChoiceMenu(false);\n    setShowSpecialPoem(false);\n    setShowKukuMessage(false);\n    setPowerUps([]);\n    setActivePowerUps({\n      invincible: { active: false, timeLeft: 0 },\n      slowMotion: { active: false, timeLeft: 0 },\n      scoreMultiplier: { active: false, timeLeft: 0, multiplier: 1 }\n    });\n    setCombo(0);\n    setMaxCombo(0);\n    lastTileSpawnRef.current = 0;\n    \n    // Cancel any running game loop\n    if (gameLoopRef.current) {\n      clearInterval(gameLoopRef.current);\n    }\n    \n    // Generate new poem\n    const randomPoem = poems[Math.floor(Math.random() * poems.length)];\n    setCurrentPoem(randomPoem);\n  };\n  \n  if (!isUnlocked) {\n    return (\n      <div className=\"min-h-screen dynamic-bg flex items-center justify-center px-4 relative overflow-hidden\">\n        {/* Floating Elements Background */}\n        {floatingElements.map((element, i) => (\n          <div\n            key={i}\n            className=\"absolute pointer-events-none\"\n            style={{\n              left: `${element.left}%`,\n              top: `${element.top}%`,\n              animation: `welcomeFloat 12s ease-in-out infinite`,\n              animationDelay: `${element.animationDelay}s`\n            }}\n          >\n            {element.type === 'heart' && (\n              <Heart \n                className={`text-pink-300 animate-pulse floating-heart`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '3s'\n                }}\n              />\n            )}\n            {element.type === 'note' && (\n              <Music \n                className={`text-blue-200 animate-bounce floating-music`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '2.5s'\n                }}\n              />\n            )}\n            {element.type === 'sparkle' && (\n              <div \n                className={`bg-yellow-300 rounded-full animate-ping floating-sparkle`}\n                style={{\n                  width: `${element.size * 2}px`,\n                  height: `${element.size * 2}px`,\n                  animationDuration: '4s'\n                }}\n              />\n            )}\n          </div>\n        ))}\n        \n        <div className=\"glass-effect-dark rounded-3xl p-4 sm:p-6 md:p-8 text-center max-w-xs sm:max-w-md w-full relative z-10\">\n          <Lock className=\"w-12 h-12 sm:w-16 sm:h-16 text-white mx-auto mb-4\" />\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-white mb-4\">🎁 Special Surprise</h1>\n          <p className=\"text-white/90 mb-6 text-sm sm:text-base\">This special birthday surprise is locked until September 23rd!</p>\n          <div className=\"glass-effect rounded-2xl p-3 sm:p-4 mb-6\">\n            <Clock className=\"w-6 h-6 sm:w-8 sm:h-8 text-white mx-auto mb-2\" />\n            <p className=\"countdown-display\">{timeLeft}</p>\n            <p className=\"text-white/80 text-xs sm:text-sm\">until unlock</p>\n          </div>\n          <div className=\"flex justify-center space-x-2\">\n            <Heart className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-300 animate-pulse\" />\n            <Heart className=\"w-5 h-5 sm:w-6 sm:h-6 text-pink-300 animate-pulse\" style={{animationDelay: '0.5s'}} />\n            <Heart className=\"w-5 h-5 sm:w-6 sm:h-6 text-red-300 animate-pulse\" style={{animationDelay: '1s'}} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  if (showCelebration) {\n    return (\n      <>\n      <div className=\"min-h-screen dynamic-bg flex items-center justify-center relative overflow-hidden py-8\">\n        <div className=\"absolute inset-0 bg-black/10\"></div>\n        \n        {/* Floating Elements Background */}\n        {floatingElements.map((element, i) => (\n          <div\n            key={i}\n            className=\"absolute pointer-events-none\"\n            style={{\n              left: `${element.left}%`,\n              top: `${element.top}%`,\n              animation: `welcomeFloat 12s ease-in-out infinite`,\n              animationDelay: `${element.animationDelay}s`\n            }}\n          >\n            {element.type === 'heart' && (\n              <Heart \n                className={`text-pink-300 animate-pulse floating-heart`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '3s'\n                }}\n              />\n            )}\n            {element.type === 'note' && (\n              <Music \n                className={`text-blue-200 animate-bounce floating-music`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '2.5s'\n                }}\n              />\n            )}\n            {element.type === 'sparkle' && (\n              <div \n                className={`bg-yellow-300 rounded-full animate-ping floating-sparkle`}\n                style={{\n                  width: `${element.size * 2}px`,\n                  height: `${element.size * 2}px`,\n                  animationDuration: '4s'\n                }}\n              />\n            )}\n          </div>\n        ))}\n        \n        \n        \n        <div className=\"relative z-10 text-center max-w-xs sm:max-w-md lg:max-w-lg mx-4 w-full mt-4\">\n          <div className=\"glass-effect-dark rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 mb-6 sm:mb-8\">\n            \n            <h1 className=\"text-2xl sm:text-3xl md:text-4xl font-bold text-red-200 mb-3 animate-pulse neon-title\">\n              HAPPY BIRTHDAY! \n            </h1>\n            <p className=\"text-base sm:text-lg md:text-xl text-white/80 mb-6 sm:mb-8 soft-subtitle\">To My Beautiful Wifey</p>\n            \n            {/* Transparent Gallery Buttons with Blurred Background */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6\">\n              {/* Photo Gallery Button */}\n              <button \n                onClick={() => {\n                  setShowPhotoGallery(true);\n                }}\n                className=\"group relative overflow-hidden rounded-2xl h-32 sm:h-40 transition-all duration-300 hover:scale-105\"\n              >\n                {/* Background Images Collage */}\n                <div className=\"absolute inset-0 grid grid-cols-2 gap-1 p-2\">\n                  {pictures.slice(0, 4).map((picture, index) => (\n                    <div key={picture.id} className=\"relative overflow-hidden rounded-lg\">\n                      <img\n                        src={picture.url}\n                        alt={`Preview ${index + 1}`}\n                        className=\"w-full h-full object-cover filter blur-sm group-hover:blur-none transition-all duration-300\"\n                      />\n                    </div>\n                  ))}\n                </div>\n                \n                {/* Transparent Overlay with Text */}\n                <div className=\"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all duration-300 flex flex-col items-center justify-center backdrop-blur-sm\">\n                  <div className=\"text-4xl mb-2 group-hover:scale-110 transition-transform duration-300\">📸</div>\n                  <p className=\"text-white font-bold text-lg drop-shadow-lg\">Photo Gallery</p>\n                  <p className=\"text-white/90 text-sm drop-shadow-md\">View memories</p>\n                </div>\n              </button>\n\n              {/* Video Gallery Button */}\n              <button \n                onClick={() => {\n                  setShowVideoGallery(true);\n                }}\n                className=\"group relative overflow-hidden rounded-2xl h-32 sm:h-40 transition-all duration-300 hover:scale-105\"\n              >\n                {/* Background Video Preview */}\n                <div className=\"absolute inset-0 p-2\">\n                  <div className=\"relative w-full h-full overflow-hidden rounded-lg\">\n                    {videos.length > 0 ? (\n                      <video\n                        src={videos[0]?.url}\n                        className=\"w-full h-full object-cover\"\n                        muted\n                        loop\n                        preload=\"metadata\"\n                        playsInline\n                        onError={(e) => {\n                          console.log('Video preview error:', e);\n                          e.target.style.display = 'none';\n                        }}\n                      />\n                    ) : (\n                      <div className=\"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\">\n                        <span className=\"text-4xl\">🎥</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n                \n                {/* Transparent Overlay with Text */}\n                <div className=\"absolute inset-0 bg-black/40 group-hover:bg-black/20 transition-all duration-300 flex flex-col items-center justify-center backdrop-blur-sm\">\n                  <div className=\"text-4xl mb-2 group-hover:scale-110 transition-transform duration-300\">🎥</div>\n                  <p className=\"text-white font-bold text-lg drop-shadow-lg\">Video Gallery</p>\n                  <p className=\"text-white/90 text-sm drop-shadow-md\">Watch moments</p>\n                </div>\n              </button>\n            </div>\n\n            {/* Kuku Message Button - Positioned under gallery buttons */}\n            <div className=\"mb-6\">\n              <button\n                onClick={() => {\n                  console.log('Kuku button clicked!');\n                  openKukuMessage();\n                }}\n                className=\"btn-solid-3 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-3xl h-24 sm:h-23 text-sm sm:text-base md:text-lg font-semibold hover:scale-105 transform transition-all duration-300 shadow-lg\"\n              >\n                \n                {/* Glow effect */}\n                <div className=\"absolute inset-0 rounded-2xl shadow-2xl group-hover:shadow-pink-500/50 transition-all duration-300\" \n                style={{\n                  boxShadow: '0 0 30px rgba(238, 20, 129, 0.4), 0 0 60px rgba(147, 51, 234, 0.2)'\n                }}>\n                </div>\n                \n                {/* Content */}\n                <div className=\"relative z-10 flex flex-col items-center justify-center h-full\">\n                  <div className=\"text-3xl sm:text-4xl mb-1 group-hover:scale-110 transition-transform duration-300\">💖</div>\n                  <p className=\"text-white font-bold text-lg sm:text-xl drop-shadow-lg group-hover:drop-shadow-2xl transition-all duration-300\">\n                    For My Beautiful Kuku\n                  </p>\n                  <p className=\"text-white/90 text-sm drop-shadow-md\">Special message</p>\n                </div>\n                \n              </button>\n            </div>\n            \n\n\n          </div>\n          \n          <div className=\"glass-effect-dark rounded-2xl sm:rounded-3xl p-4 sm:p-6 mb-6 sm:mb-8\">\n            <h3 className=\"text-lg sm:text-xl font-bold text-white mb-3 sm:mb-4 flex items-center justify-center flex-wrap\">\n              <Heart className=\"w-5 h-5 sm:w-6 sm:h-6 mr-1 sm:mr-2 text-red-300\" />\n              <span className=\"text-center\">A Poem Just For You</span>\n              <Heart className=\"w-5 h-5 sm:w-6 sm:h-6 ml-1 sm:ml-2 text-red-300\" />\n            </h3>\n            <p className=\"text-white/90 whitespace-pre-line text-sm sm:text-base md:text-lg leading-relaxed\">\n              {currentPoem}\n            </p>\n          </div>\n          \n          <div className=\"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center\">\n            <button\n              onClick={() => {\n                stopBackgroundMusic();\n                resetGame();\n              }}\n              className=\"btn-solid-1 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-sm sm:text-base md:text-lg font-semibold hover:scale-105 transform transition-all duration-300 shadow-lg\"\n            >\n              🎵 Play Again\n            </button>\n            <button\n              onClick={() => {\n                const randomPoem = poems[Math.floor(Math.random() * poems.length)];\n                setCurrentPoem(randomPoem);\n              }}\n              className=\"btn-solid-2 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-sm sm:text-base md:text-lg font-semibold hover:scale-105 transform transition-all duration-300 shadow-lg\"\n            >\n              💝 New Poem\n            </button>\n            <button\n              onClick={() => setShowSpecialPoem(true)}\n              className=\"btn-solid-3 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-sm sm:text-base md:text-lg font-semibold hover:scale-105 transform transition-all duration-300 shadow-lg\"\n            >\n              ✨ Special Poem\n            </button>\n          </div>\n        </div>\n        {/* Kuku Message Modal */}\n        <KukuMessage \n                  isVisible={showKukuMessage} \n                  onClose={() => setShowKukuMessage(false)} \n                />\n        \n        {/* Mute Button - Fixed Position Bottom Left */}\n        <button\n          onClick={async () => {\n            console.log('Mute button clicked, current state:', isMuted);\n            const newMutedState = !isMuted;\n            setIsMuted(newMutedState);\n            \n            // Handle audio context resume if needed\n            if (!newMutedState && audioContextRef.current && audioContextRef.current.state === 'suspended') {\n              try {\n                await audioContextRef.current.resume();\n              } catch (error) {\n                console.log('Failed to resume audio context:', error);\n              }\n            }\n            \n            // Stop current background music if muting\n            if (newMutedState) {\n              stopBackgroundMusic();\n            } else {\n              // Restart background music if unmuting\n              setTimeout(() => {\n                playBackgroundMusic();\n              }, 100); // Small delay to ensure state is updated\n            }\n          }}\n          className=\"fixed bottom-6 left-6 z-50 bg-black/50 hover:bg-black/70 backdrop-blur-sm rounded-full p-4 transition-all duration-200 hover:scale-110 group shadow-lg\"\n          title={isMuted ? \"Unmute music\" : \"Mute music\"}\n        >\n          {isMuted ? (\n            <svg className=\"w-6 h-6 text-white/80 group-hover:text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\" />\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2\" />\n            </svg>\n          ) : (\n            <svg className=\"w-6 h-6 text-white/80 group-hover:text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z\" />\n            </svg>\n          )}\n        </button>\n        \n        {/* Special Poem Sliding Panel */}\n        <div className={`fixed inset-0 z-30 transition-transform duration-500 ease-in-out ${showSpecialPoem ? 'translate-x-0' : 'translate-x-full'}`}>\n          <div className=\"absolute inset-0 bg-black/20 backdrop-blur-sm\" onClick={() => setShowSpecialPoem(false)}></div>\n          <div className=\"absolute right-0 top-0 h-full w-full max-w-2xl dynamic-bg shadow-2xl overflow-y-auto\">\n            <div className=\"p-8\">\n              <div className=\"flex justify-between items-center mb-6\">\n                <h2 className=\"text-3xl font-bold text-white\">✨ Special Poem ✨</h2>\n                <button\n                  onClick={() => setShowSpecialPoem(false)}\n                  className=\"glass-effect hover:glass-effect-dark text-white rounded-full p-2 transition-all duration-300 hover:scale-110\"\n                >\n                  ✕\n                </button>\n              </div>\n              \n              <div className=\"glass-effect-dark rounded-3xl p-8\">\n                <div className=\"text-center mb-6\">\n                  <div className=\"text-6xl mb-4\">💖</div>\n                  <h3 className=\"text-2xl font-bold text-white mb-2\">From My Heart to Yours</h3>\n                  <div className=\"w-24 h-1 bg-gradient-to-r from-pink-300 to-red-300 mx-auto rounded-full\"></div>\n                </div>\n                \n                <div className=\"text-white/95 text-lg leading-relaxed whitespace-pre-line font-serif text-center\">\n                  {specialPoem}\n                </div>\n                \n                <div className=\"text-center mt-8\">\n                  <div className=\"w-24 h-1 bg-gradient-to-r from-pink-300 to-red-300 mx-auto rounded-full mb-4\"></div>\n                  <p className=\"text-white/80 italic text-sm\">Written with all my love 💕</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Love message in bottom right */}\n        <div className=\"fixed bottom-4 right-4 z-20\">\n          <div className=\"glass-effect rounded-2xl px-4 py-2 animate-pulse\">\n            <p className=\"text-white/90 text-sm font-medium italic\">\n              I love you my darling kuku 💕\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Photo Gallery Modal - Rendered at root level for proper floating overlay */}\n      {showPhotoGallery && (\n        <div className=\"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-md\">\n          {/* Close Button */}\n          <button\n            onClick={() => setShowPhotoGallery(false)}\n            className=\"absolute top-6 right-6 z-[10000] text-white/80 hover:text-white bg-black/50 hover:bg-black/70 rounded-full p-4 transition-all duration-200 hover:scale-110\"\n          >\n            <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n          \n          {/* Gallery Title */}\n          <div className=\"absolute top-6 left-6 z-[10000]\">\n            <h3 className=\"text-3xl font-bold text-white flex items-center gap-3\">\n              <span className=\"text-4xl\">📸</span>\n              Photo Gallery\n            </h3>\n          </div>\n          \n          {/* Full Screen Gallery Grid */}\n          <div className=\"w-full h-full p-6 pt-24 overflow-y-auto\">\n            <div className=\"columns-2 sm:columns-3 md:columns-4 lg:columns-5 xl:columns-6 gap-4 space-y-4\">\n              {pictures.map((picture, index) => {\n                // Random heights for masonry effect\n                const heights = ['h-48', 'h-64', 'h-56', 'h-72', 'h-60', 'h-80'];\n                const randomHeight = heights[index % heights.length];\n                \n                return (\n                  <div\n                    key={picture.id}\n                    className={`relative ${randomHeight} rounded-2xl overflow-hidden group cursor-pointer transform hover:scale-105 transition-all duration-300 shadow-xl hover:shadow-2xl break-inside-avoid mb-4`}\n                    onClick={() => setSelectedPhoto(picture)}\n                  >\n                    <img\n                      src={picture.url}\n                      alt={picture.alt || `Memory ${index + 1}`}\n                      className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                      <div className=\"absolute bottom-3 left-3 right-3\">\n                        <p className=\"text-white text-sm font-semibold drop-shadow-lg\">\n                          {picture.alt || `Memory ${index + 1}`}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"absolute inset-0 ring-2 ring-transparent group-hover:ring-purple-400/60 rounded-2xl transition-all duration-300\"></div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Video Gallery Modal - Rendered at root level for proper floating overlay */}\n      {showVideoGallery && (\n        <div className=\"fixed inset-0 z-[9999] bg-black/80 backdrop-blur-md\">\n          {/* Close Button */}\n          <button\n            onClick={() => setShowVideoGallery(false)}\n            className=\"absolute top-6 right-6 z-[10000] text-white/80 hover:text-white bg-black/50 hover:bg-black/70 rounded-full p-4 transition-all duration-200 hover:scale-110\"\n          >\n            <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </button>\n          \n          {/* Gallery Title */}\n          <div className=\"absolute top-6 left-6 z-[10000]\">\n            <h3 className=\"text-3xl font-bold text-white flex items-center gap-3\">\n              <span className=\"text-4xl\">🎥</span>\n              Video Gallery\n            </h3>\n          </div>\n          \n          {/* Full Screen Video Grid */}\n          <div className=\"w-full h-full p-6 pt-24 overflow-y-auto\">\n            <div className=\"columns-1 sm:columns-2 lg:columns-3 xl:columns-4 gap-6 space-y-6\">\n              {console.log('Rendering videos:', videos)}\n              {videos.length === 0 && (\n                <div className=\"text-white text-center py-8\">\n                  <p>No videos found. Loading...</p>\n                  <p className=\"text-sm text-white/70 mt-2\">Check console for loading errors</p>\n                </div>\n              )}\n              {videos.map((video, index) => {\n                // Different aspect ratios for variety\n                const aspectRatios = ['aspect-video', 'aspect-square', 'aspect-[4/5]', 'aspect-[3/4]'];\n                const randomAspect = aspectRatios[index % aspectRatios.length];\n                \n                return (\n                  <div\n                    key={video.id}\n                    className={`relative ${randomAspect} rounded-2xl overflow-hidden group cursor-pointer transform hover:scale-105 transition-all duration-300 shadow-xl hover:shadow-2xl break-inside-avoid mb-6`}\n                    onClick={() => setSelectedVideo(video)}\n                  >\n                    <video\n                      src={video.url}\n                      className=\"w-full h-full object-cover\"\n                      muted\n                      loop\n                      preload=\"metadata\"\n                      playsInline\n                      onMouseEnter={(e) => {\n                        e.target.currentTime = 0;\n                        e.target.play().catch(err => console.log('Video play failed:', err));\n                      }}\n                      onMouseLeave={(e) => {\n                        e.target.pause();\n                        e.target.currentTime = 0;\n                      }}\n                      onError={(e) => {\n                        console.log('Video error:', e, video.url);\n                        e.target.style.display = 'none';\n                      }}\n                      onLoadedMetadata={(e) => {\n                        e.target.currentTime = 0.1;\n                      }}\n                      onCanPlay={(e) => {\n                        console.log('Video can play:', video.url);\n                      }}\n                    />\n                    <div className=\"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                      <div className=\"absolute bottom-3 left-3 right-3\">\n                        <p className=\"text-white text-sm font-semibold drop-shadow-lg\">\n                          {video.alt || `Video ${index + 1}`}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"absolute inset-0 flex items-center justify-center\">\n                      <div className=\"bg-black/50 group-hover:bg-black/70 rounded-full p-6 transition-all duration-300\">\n                        <svg className=\"w-12 h-12 text-white transform group-hover:scale-110 transition-transform\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" />\n                        </svg>\n                      </div>\n                    </div>\n                    <div className=\"absolute inset-0 ring-2 ring-transparent group-hover:ring-blue-400/60 rounded-2xl transition-all duration-300\"></div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Photo Viewer Modal - Rendered at root level for proper floating overlay */}\n      {selectedPhoto && (\n        <div className=\"fixed inset-0 z-[10001] bg-black/95 backdrop-blur-lg flex items-center justify-center p-4\">\n          <div className=\"relative max-w-[95vw] max-h-[95vh] w-full h-full\">\n            {/* Close button */}\n            <button\n              onClick={() => setSelectedPhoto(null)}\n              className=\"absolute top-4 right-4 text-white/80 hover:text-white bg-black/60 hover:bg-black/80 rounded-full p-4 transition-all duration-200 hover:scale-110 z-10\"\n            >\n              <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n            \n            {/* Image */}\n            <img\n              src={selectedPhoto.url}\n              alt={selectedPhoto.alt}\n              className=\"w-full h-full object-contain rounded-2xl shadow-2xl\"\n            />\n            \n            {/* Image info */}\n            <div className=\"absolute bottom-6 left-6 right-6 bg-black/70 backdrop-blur-sm rounded-2xl p-6\">\n              <p className=\"text-white text-xl font-semibold\">{selectedPhoto.alt || 'Memory'}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Video Player Modal - Rendered at root level for proper floating overlay */}\n      {selectedVideo && (\n        <div className=\"fixed inset-0 z-[10001] bg-black/95 backdrop-blur-lg flex items-center justify-center p-4\">\n          <div className=\"relative max-w-[95vw] max-h-[95vh] w-full h-full\">\n            {/* Close button */}\n            <button\n              onClick={() => setSelectedVideo(null)}\n              className=\"absolute top-4 right-4 text-white/80 hover:text-white bg-black/60 hover:bg-black/80 rounded-full p-4 transition-all duration-200 hover:scale-110 z-10\"\n            >\n              <svg className=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n            \n            {/* Video */}\n            <video\n              src={selectedVideo.url}\n              controls\n              autoPlay\n              className=\"w-full h-full object-contain rounded-2xl shadow-2xl\"\n            />\n            \n            {/* Video info */}\n            <div className=\"absolute bottom-6 left-6 right-6 bg-black/70 backdrop-blur-sm rounded-2xl p-6\">\n              <p className=\"text-white text-xl font-semibold\">{selectedVideo.alt || 'Video'}</p>\n            </div>\n          </div>\n        </div>\n      )}\n      </>\n    );\n  }\n  \n  if (!gameStarted) {\n    return (\n      <div className=\"min-h-screen dynamic-bg flex items-center justify-center relative overflow-hidden\">\n        {/* Floating Hearts Background */}\n        <FloatingHeartsBackground \n          heartCount={15} \n          opacity={0.25} \n          animationDuration={12}\n          pulseDuration={15}\n          size=\"w-6 h-6\"\n          color=\"text-pink-200\"\n        />\n        \n        {/* Floating Elements Background */}\n        {floatingElements.map((element, i) => (\n          <div\n            key={i}\n            className=\"absolute pointer-events-none\"\n            style={{\n              left: `${element.left}%`,\n              top: `${element.top}%`,\n              animation: `welcomeFloat 12s ease-in-out infinite`,\n              animationDelay: `${element.animationDelay}s`\n            }}\n          >\n            {element.type === 'heart' && (\n              <Heart \n                className={`text-pink-300 animate-pulse floating-heart`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '3s'\n                }}\n              />\n            )}\n            {element.type === 'note' && (\n              <Music \n                className={`text-blue-200 animate-bounce floating-music`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '2.5s'\n                }}\n              />\n            )}\n            {element.type === 'sparkle' && (\n              <div \n                className={`bg-yellow-300 rounded-full animate-ping floating-sparkle`}\n                style={{\n                  width: `${element.size * 2}px`,\n                  height: `${element.size * 2}px`,\n                  animationDuration: '4s'\n                }}\n              />\n            )}\n          </div>\n        ))}\n        \n        <div className=\"magical-card glass-effect-dark rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 text-center max-w-xs sm:max-w-md lg:max-w-lg mx-4 relative z-10 w-full\">\n          \n          {/* Happy Birthday Title */}\n          <div className=\"relative\">\n            <h1 className=\"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold mb-4 text-white bg-clip-text bg-gradient-to-r from-pink-400 via-red-800 to-yellow-300\">\n              HAPPY BIRTHDAY!\n            </h1>\n            <div className=\"absolute inset-0 flex justify-center items-center\">\n              <div className=\"absolute w-full h-full bg-gradient-to-r from-pink-400/20 via-red-400/20 to-yellow-300/20 rounded-full blur-xl animate-pulse\"></div>\n            </div>\n            <div className=\"absolute -inset-1 bg-gradient-to-r from-pink-400/30 via-red-400/30 to-yellow-300/30 rounded-lg blur opacity-75 animate-pulse\"></div>\n          </div>\n\n          <p className=\"text-base sm:text-lg md:text-xl text-white/80 mb-6 sm:mb-8 soft-subtitle\">To My Beautiful Wifey</p>\n          \n\n          {/* Piano Keys Preview */}\n          <div className=\"mb-4 sm:mb-6\">\n            <div className=\"flex justify-center space-x-1 mb-3 sm:mb-4\">\n              {['C', 'D', 'E', 'F', 'G'].map((note, i) => (\n                <div\n                  key={note}\n                  className=\"piano-key w-6 h-12 sm:w-8 sm:h-16 bg-white rounded-b-lg shadow-lg flex items-end justify-center pb-1 sm:pb-2 text-xs font-bold text-gray-700 animate-pulse cursor-pointer\"\n                  style={{\n                    animationDelay: `${i * 0.2}s`,\n                    animationDuration: '2s'\n                  }}\n                >\n                  {note}\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <Music className=\"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 text-white mx-auto mb-3 sm:mb-4 animate-bounce\" />\n          <h2 className=\"text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-6\">🎵 Falling Piano Tiles</h2>\n          \n          <div className=\"space-y-2 sm:space-y-3\">\n            <button\n              onClick={() => {\n                setGameStarted(true);\n                if (!welcomeMusicStarted) {\n                  playWelcomeMusic();\n                  setWelcomeMusicStarted(true);\n                }\n              }}\n              className=\"w-full btn-solid-1 btn-bounce text-white px-8 sm:px-10 py-4 sm:py-5 rounded-full text-xl sm:text-2xl font-bold hover:scale-105 transform transition-all duration-300 shadow-lg\"\n            >\n              🎵 Start Playing\n            </button>\n            \n            <button\n              onClick={() => {\n                if (!welcomeMusicStarted) {\n                  playWelcomeMusic();\n                  setWelcomeMusicStarted(true);\n                }\n              }}\n              className=\"btn-solid-2 btn-bounce text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full text-sm sm:text-base font-semibold hover:scale-105 transition-all duration-300\"\n              style={{animationDelay: '0.2s'}}\n            >\n              🎶 Play Welcome Music\n            </button>\n          </div>\n        </div>\n\n        {/* Love message in corner */}\n        <div className=\"absolute bottom-3 sm:bottom-6 right-3 sm:right-6 z-20\">\n          <div className=\"glass-effect rounded-xl sm:rounded-2xl px-2 sm:px-4 py-1 sm:py-2\">\n            <p className=\"text-white/90 text-xs sm:text-sm font-medium italic typewriter\">\n              Made with love just for you 🎵\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Choice Menu after completing all tiles\n  if (showChoiceMenu && gameCompleted) {\n    return (\n      <div className=\"min-h-screen dynamic-bg flex items-center justify-center px-4 relative overflow-hidden\">\n        \n        {/* Floating Elements Background */}\n        {floatingElements.map((element, i) => (\n          <div\n            key={i}\n            className=\"absolute pointer-events-none\"\n            style={{\n              left: `${element.left}%`,\n              top: `${element.top}%`,\n              animation: `welcomeFloat 12s ease-in-out infinite`,\n              animationDelay: `${element.animationDelay}s`\n            }}\n          >\n            {element.type === 'heart' && (\n              <Heart \n                className={`text-pink-300 animate-pulse floating-heart`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '3s'\n                }}\n              />\n            )}\n            {element.type === 'note' && (\n              <Music \n                className={`text-blue-200 animate-bounce floating-music`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '2.5s'\n                }}\n              />\n            )}\n            {element.type === 'sparkle' && (\n              <div \n                className={`bg-yellow-300 rounded-full animate-ping floating-sparkle`}\n                style={{\n                  width: `${element.size * 2}px`,\n                  height: `${element.size * 2}px`,\n                  animationDuration: '4s'\n                }}\n              />\n            )}\n          </div>\n        ))}\n        \n        <div className=\"glass-effect-dark rounded-2xl sm:rounded-3xl p-4 sm:p-6 md:p-8 text-center max-w-xs sm:max-w-md w-full relative z-10\">\n          <div className=\"text-4xl sm:text-5xl md:text-6xl mb-3 sm:mb-4\">🎉</div>\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-white mb-3 sm:mb-4\">Congratulations!</h1>\n          <p className=\"text-white/90 mb-4 sm:mb-6 text-sm sm:text-base\">You successfully completed \"Happy Birthday\"!</p>\n          <div className=\"glass-effect rounded-xl sm:rounded-2xl p-3 sm:p-4 mb-4 sm:mb-6\">\n            <p className=\"text-white text-base sm:text-lg\">Final Score: {score}</p>\n            <p className=\"text-white/80 text-xs sm:text-sm\">Max Combo: {maxCombo} 🔥</p>\n            <p className=\"text-white/80 text-xs sm:text-sm\">Perfect Performance! 🌟</p>\n          </div>\n          \n          <div className=\"space-y-2 sm:space-y-3\">\n            <button\n              onClick={() => {\n                setShowChoiceMenu(false);\n                resetGame();\n              }}\n              className=\"w-full btn-solid-1 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-lg font-semibold hover:scale-105 transform transition-all duration-300 shadow-lg\"\n            >\n              🎵 Play Again\n            </button>\n            \n            <button\n              onClick={() => {\n                setEndlessMode(true);\n                setShowChoiceMenu(false);\n                setGameCompleted(false);\n                setTilesHit(0);\n                setTilesSpawned(0);\n              }}\n              className=\"w-full btn-solid-1 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-full text-base sm:text-lg font-semibold hover:scale-105 transform transition-all duration-300 shadow-lg\"\n            >\n              🎮 Endless Mode\n            </button>\n            \n            <button\n              onClick={() => {\n                setShowChoiceMenu(false);\n                setShowCelebration(true);\n                playBackgroundMusic();\n              }}\n              className=\"w-full btn-solid-2 text-white px-6 py-3 rounded-full text-lg font-semibold hover:scale-105 transform transition-all duration-300 shadow-lg\"\n            >\n              💝 See Your Surprise\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (gameOver) {\n    return (\n      <div className=\"min-h-screen dynamic-bg flex items-center justify-center relative overflow-hidden\">\n        {/* Floating Hearts Background */}\n        {/* Floating Elements Background */}\n        {floatingElements.map((element, i) => (\n          <div\n            key={i}\n            className=\"absolute pointer-events-none\"\n            style={{\n              left: `${element.left}%`,\n              top: `${element.top}%`,\n              animation: `welcomeFloat 12s ease-in-out infinite`,\n              animationDelay: `${element.animationDelay}s`\n            }}\n          >\n            {element.type === 'heart' && (\n              <Heart \n                className={`text-pink-300 animate-pulse floating-heart`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '3s'\n                }}\n              />\n            )}\n            {element.type === 'note' && (\n              <Music \n                className={`text-blue-200 animate-bounce floating-music`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '2.5s'\n                }}\n              />\n            )}\n            {element.type === 'sparkle' && (\n              <div \n                className={`bg-yellow-300 rounded-full animate-ping floating-sparkle`}\n                style={{\n                  width: `${element.size * 2}px`,\n                  height: `${element.size * 2}px`,\n                  animationDuration: '4s'\n                }}\n              />\n            )}\n          </div>\n        ))}\n        \n        <div className=\"glass-effect-dark rounded-3xl p-8 text-center max-w-md mx-4 relative z-10\">\n          <div className=\"text-6xl mb-4\">💔</div>\n          <h1 className=\"text-3xl font-bold text-white mb-4\">Game Over!</h1>\n          <p className=\"text-white/90 mb-4\">You missed too many tiles!</p>\n          <div className=\"glass-effect rounded-2xl p-4 mb-6\">\n            <p className=\"text-white text-lg\">Final Score: {score}</p>\n            <p className=\"text-white/80 text-sm\">Max Combo: {maxCombo} 🔥</p>\n            <p className=\"text-white/80 text-sm\">Tiles Hit: {Math.floor(score / 10)}</p>\n            <p className=\"text-white/80 text-sm mt-2\">Lives Available: {lives}</p>\n          </div>\n          \n          <div className=\"space-y-3\">\n            {lives > 0 && (\n              <button\n                onClick={() => {\n                  // Continue playing by using one life\n                  setGameOver(false);\n                  setLives(lives - 1);\n                  // Reset falling tiles\n                  setFallingTiles([]);\n                  // Reset combo\n                  setCombo(0);\n                  // Start the game loop again\n                  if (gameLoopRef.current) {\n                    clearInterval(gameLoopRef.current);\n                  }\n                  gameLoopRef.current = setInterval(gameLoop, 50); // 20 FPS for smoother performance\n                }}\n                className=\"glass-effect rounded-2xl px-3 py-2 text-lg font-bold hover:scale-105 transition-all duration-300 text-white\"\n              >\n                💖 Continue (Use 1 Life)\n              </button>\n            )}\n            \n            <button\n              onClick={resetGame}\n              className=\"glass-effect rounded-2xl px-3 py-2 text-lg font-bold hover:scale-105 transition-all duration-300 text-white\"\n            >\n              🔄 Try Again\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  \n  return (\n    <div className=\"min-h-screen dynamic-bg flex items-center justify-center p-4 relative overflow-hidden\">\n      {/* Floating Elements Background */}\n      {floatingElements.map((element, i) => (\n          <div\n            key={i}\n            className=\"absolute pointer-events-none\"\n            style={{\n              left: `${element.left}%`,\n              top: `${element.top}%`,\n              animation: `welcomeFloat 12s ease-in-out infinite`,\n              animationDelay: `${element.animationDelay}s`\n            }}\n          >\n            {element.type === 'heart' && (\n              <Heart \n                className={`text-pink-300 animate-pulse floating-heart`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '3s'\n                }}\n              />\n            )}\n            {element.type === 'note' && (\n              <Music \n                className={`text-blue-200 animate-bounce floating-music`}\n                style={{\n                  width: `${element.size * 4}px`,\n                  height: `${element.size * 4}px`,\n                  animationDuration: '2.5s'\n                }}\n              />\n            )}\n            {element.type === 'sparkle' && (\n              <div \n                className={`bg-yellow-300 rounded-full animate-ping floating-sparkle`}\n                style={{\n                  width: `${element.size * 2}px`,\n                  height: `${element.size * 2}px`,\n                  animationDuration: '4s'\n                }}\n              />\n            )}\n          </div>\n        ))}\n      \n      {/* Game Container */}\n      <div className=\"game-container glass-effect-dark rounded-3xl p-6 w-96 h-[600px] relative overflow-hidden z-10\">\n        {/* Game UI Header */}\n        <div className=\"flex justify-between items-center text-white mb-2\">\n          <div className=\"score-display glass-effect rounded-xl px-3 py-1\">\n            <p className=\"text-xs font-bold\">Score: {score}</p>\n          </div>\n          <div className=\"glass-effect rounded-xl px-3 py-1\">\n            <p className=\"text-xs font-semibold\">❤️ {lives}</p>\n          </div>\n          <div className=\"glass-effect rounded-xl px-3 py-1\">\n            <p className=\"text-xs font-semibold\">Hit: {tilesHit}/{endlessMode ? '∞' : happyBirthdayNotes.length}</p>\n          </div>\n          {endlessMode && (\n            <button\n              onClick={resetGame}\n              className=\"glass-effect rounded-xl px-3 py-1 text-xs font-semibold hover:scale-105 transition-all duration-300\"\n            >\n              🚪 Exit\n            </button>\n          )}\n        </div>\n\n        {/* Combo and Power-up Status */}\n        <div className=\"flex justify-between items-center text-white mb-2\">\n          <div className={`glass-effect rounded-xl px-3 py-1 ${combo > 0 ? 'combo-effect' : ''}`}>\n            <p className=\"text-xs font-semibold\">🔥 Combo: {combo}</p>\n          </div>\n          <div className=\"glass-effect rounded-xl px-3 py-1\">\n            <p className=\"text-xs font-semibold\">🏆 Best: {maxCombo}</p>\n          </div>\n        </div>\n\n        {/* Active Power-ups Display */}\n        {(activePowerUps.invincible.active || activePowerUps.slowMotion.active || activePowerUps.scoreMultiplier.active) && (\n          <div className=\"flex justify-center space-x-2 mb-2\">\n            {activePowerUps.invincible.active && (\n              <div className=\"glass-effect rounded-full px-2 py-1 text-xs font-bold text-yellow-300 animate-pulse\">\n                ⭐ {Math.ceil(activePowerUps.invincible.timeLeft / 1000)}s\n              </div>\n            )}\n            {activePowerUps.slowMotion.active && (\n              <div className=\"glass-effect rounded-full px-2 py-1 text-xs font-bold text-blue-300 animate-pulse\">\n                ⚡ {Math.ceil(activePowerUps.slowMotion.timeLeft / 1000)}s\n              </div>\n            )}\n            {activePowerUps.scoreMultiplier.active && (\n              <div className=\"glass-effect rounded-full px-2 py-1 text-xs font-bold text-purple-300 animate-pulse\">\n                🌈 {activePowerUps.scoreMultiplier.multiplier}x ({Math.ceil(activePowerUps.scoreMultiplier.timeLeft / 1000)}s)\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Game Area with 4 columns */}\n        <div className={`game-area relative h-[500px] overflow-hidden rounded-2xl ${activePowerUps.invincible.active ? 'ring-4 ring-yellow-400 ring-opacity-60' : ''} ${activePowerUps.slowMotion.active ? 'ring-4 ring-blue-400 ring-opacity-60' : ''}`}>\n          <div className=\"h-full grid grid-cols-4 gap-1\">\n            {[0, 1, 2, 3].map(column => (\n              <div key={column} className=\"relative bg-white/5 border-l border-r border-white/10\">\n                {/* Column background lines */}\n                <div className=\"absolute inset-0 opacity-20\">\n                  {[...Array(8)].map((_, i) => (\n                    <div key={i} className=\"column-line h-16 border-b border-white/10\"></div>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Falling Tiles */}\n          {fallingTiles.map(tile => (\n            <div\n              key={tile.id}\n              className=\"absolute z-20\"\n              style={{\n                left: `${(tile.column * 25) + 0.5}%`,\n                top: `${tile.y}px`,\n                width: '23%',\n                height: '60px'\n              }}\n            >\n              <button\n                onClick={() => handleTileClick(tile.id)}\n                onMouseDown={() => handleTileClick(tile.id)}\n                onTouchStart={(e) => {\n                  e.preventDefault();\n                  handleTileClick(tile.id);\n                }}\n                className=\"game-tile w-full h-full text-white font-bold text-lg rounded-lg cursor-pointer select-none\"\n                style={{\n                  touchAction: 'manipulation',\n                  userSelect: 'none',\n                  WebkitTapHighlightColor: 'transparent'\n                }}\n              >\n                <div className=\"relative z-10\">\n                  {tile.note.note}\n                  <div className=\"text-xs opacity-90\">🎵</div>\n                </div>\n              </button>\n            </div>\n          ))}\n\n          {/* Power-ups */}\n          {powerUps.map(powerUp => (\n            <div\n              key={powerUp.id}\n              className=\"absolute z-20\"\n              style={{\n                left: `${(powerUp.column * 25) + 0.5}%`,\n                top: `${powerUp.y}px`,\n                width: '23%',\n                height: '60px'\n              }}\n            >\n              <button\n                onClick={() => collectPowerUp(powerUp.id, powerUp.type)}\n                onMouseDown={() => collectPowerUp(powerUp.id, powerUp.type)}\n                onTouchStart={(e) => {\n                  e.preventDefault();\n                  collectPowerUp(powerUp.id, powerUp.type);\n                }}\n                className=\"power-up w-full h-full text-white font-bold text-2xl rounded-lg cursor-pointer select-none\"\n                style={{\n                  touchAction: 'manipulation',\n                  userSelect: 'none',\n                  WebkitTapHighlightColor: 'transparent'\n                }}\n                title={powerUpTypes[powerUp.type].effect}\n              >\n                <div className=\"relative z-10\">\n                  {powerUpTypes[powerUp.type].emoji}\n                </div>\n              </button>\n            </div>\n          ))}\n\n          {/* Bottom danger zone indicator */}\n          <div className=\"danger-zone absolute bottom-0 left-0 right-0 h-16 pointer-events-none\">\n            <div className=\"absolute bottom-1 left-1/2 transform -translate-x-1/2 text-white/90 text-xs font-bold\">\n              ⚠️ Danger Zone ⚠️\n            </div>\n          </div>\n        </div>\n\n        {/* Game completed message */}\n        {gameCompleted && (\n          <div className=\"absolute inset-0 flex items-center justify-center z-30 bg-black/20 backdrop-blur-sm rounded-3xl\">\n            <div className=\"bg-gradient-to-r from-green-400 to-emerald-500 text-white px-6 py-3 rounded-2xl text-lg font-bold animate-bounce shadow-2xl text-center\">\n              <div className=\"mb-2\"> Perfect! </div>\n            </div>\n          </div>\n        )}\n\n        {/* Bottom buttons */}\n        <div className=\"absolute bottom-4 right-4 flex space-x-2\">\n          <button\n            onClick={resetGame}\n            className=\"glass-effect text-white px-3 py-2 rounded-full hover:scale-105 transition-all duration-300 text-sm\"\n          >\n            🔄 Reset\n          </button>\n        </div>\n      </div>\n\n      \n    </div>\n  );\n};\n\nexport default BirthdayPianoSurprise;"],"mappings":"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","ignoreList":[]}