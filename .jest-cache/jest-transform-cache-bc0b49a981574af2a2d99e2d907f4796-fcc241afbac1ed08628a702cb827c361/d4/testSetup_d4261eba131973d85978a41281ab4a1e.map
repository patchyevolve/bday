{"version":3,"names":["require","_react","configure","testIdAttribute","asyncUtilTimeout","computedStyleSupportsPseudoElements","global","AudioContext","jest","fn","createOscillator","connect","start","stop","frequency","setValueAtTime","exponentialRampToValueAtTime","type","createGain","gain","linearRampToValueAtTime","destination","currentTime","state","resume","Promise","resolve","suspend","close","Object","defineProperty","window","writable","value","mockImplementation","query","matches","media","onchange","addListener","removeListener","addEventListener","removeEventListener","dispatchEvent","IntersectionObserver","observe","disconnect","unobserve","ResizeObserver","requestAnimationFrame","cb","setTimeout","cancelAnimationFrame","id","clearTimeout","HTMLCanvasElement","prototype","getContext","getParameter","getSupportedExtensions","originalConsoleWarn","console","warn","originalConsoleError","error","beforeEach","afterEach","clearAllTimers","testUtils","waitFor","ms","mockFetch","response","fetch","ok","status","json","text","JSON","stringify","headers","Headers","createMockMediaFiles","pictures","url","alt","filename","videos","createMockGameState","gameStarted","gameCompleted","showCelebration","score","lives","combo","maxCombo","tilesHit","tilesSpawned"],"sources":["testSetup.js"],"sourcesContent":["// Enhanced test setup with better mocks and utilities\nimport '@testing-library/jest-dom';\nimport { configure } from '@testing-library/react';\n\n// Configure testing library\nconfigure({ \n  testIdAttribute: 'data-testid',\n  asyncUtilTimeout: 5000,\n  computedStyleSupportsPseudoElements: true\n});\n\n// Mock Web Audio API\nglobal.AudioContext = jest.fn(() => ({\n  createOscillator: jest.fn(() => ({\n    connect: jest.fn(),\n    start: jest.fn(),\n    stop: jest.fn(),\n    frequency: { setValueAtTime: jest.fn(), exponentialRampToValueAtTime: jest.fn() },\n    type: 'sine'\n  })),\n  createGain: jest.fn(() => ({\n    connect: jest.fn(),\n    gain: { \n      setValueAtTime: jest.fn(), \n      exponentialRampToValueAtTime: jest.fn(),\n      linearRampToValueAtTime: jest.fn()\n    }\n  })),\n  destination: {},\n  currentTime: 0,\n  state: 'running',\n  resume: jest.fn(() => Promise.resolve()),\n  suspend: jest.fn(() => Promise.resolve()),\n  close: jest.fn(() => Promise.resolve())\n}));\n\n// Mock matchMedia for responsive tests\nObject.defineProperty(window, 'matchMedia', {\n  writable: true,\n  value: jest.fn().mockImplementation(query => ({\n    matches: false,\n    media: query,\n    onchange: null,\n    addListener: jest.fn(),\n    removeListener: jest.fn(),\n    addEventListener: jest.fn(),\n    removeEventListener: jest.fn(),\n    dispatchEvent: jest.fn(),\n  })),\n});\n\n// Mock IntersectionObserver\nglobal.IntersectionObserver = jest.fn(() => ({\n  observe: jest.fn(),\n  disconnect: jest.fn(),\n  unobserve: jest.fn(),\n}));\n\n// Mock ResizeObserver\nglobal.ResizeObserver = jest.fn(() => ({\n  observe: jest.fn(),\n  disconnect: jest.fn(),\n  unobserve: jest.fn(),\n}));\n\n// Mock requestAnimationFrame\nglobal.requestAnimationFrame = jest.fn(cb => setTimeout(cb, 16));\nglobal.cancelAnimationFrame = jest.fn(id => clearTimeout(id));\n\n// Mock HTMLCanvasElement for performance tests\nHTMLCanvasElement.prototype.getContext = jest.fn(() => ({\n  getParameter: jest.fn(() => 'WebGL 2.0'),\n  getSupportedExtensions: jest.fn(() => ['WEBGL_debug_renderer_info']),\n}));\n\n// Suppress console warnings in tests unless explicitly testing them\nconst originalConsoleWarn = console.warn;\nconst originalConsoleError = console.error;\n\nbeforeEach(() => {\n  console.warn = jest.fn();\n  console.error = jest.fn();\n});\n\nafterEach(() => {\n  console.warn = originalConsoleWarn;\n  console.error = originalConsoleError;\n  jest.clearAllTimers();\n});\n\n// Global test utilities\nglobal.testUtils = {\n  // Wait for async operations\n  waitFor: (ms = 100) => new Promise(resolve => setTimeout(resolve, ms)),\n  \n  // Mock fetch responses\n  mockFetch: (response) => {\n    global.fetch = jest.fn(() => Promise.resolve({\n      ok: true,\n      status: 200,\n      json: () => Promise.resolve(response),\n      text: () => Promise.resolve(JSON.stringify(response)),\n      headers: new Headers(),\n    }));\n  },\n  \n  // Create mock media files\n  createMockMediaFiles: () => ({\n    pictures: [\n      { id: 1, url: '/media/pictures/test1.jpg', alt: 'Test 1', filename: 'test1.jpg' },\n      { id: 2, url: '/media/pictures/test2.jpg', alt: 'Test 2', filename: 'test2.jpg' }\n    ],\n    videos: [\n      { id: 1, url: '/media/videos/test.mp4', alt: 'Test Video', filename: 'test.mp4' }\n    ]\n  }),\n  \n  // Mock game state\n  createMockGameState: () => ({\n    gameStarted: false,\n    gameCompleted: false,\n    showCelebration: false,\n    score: 0,\n    lives: 3,\n    combo: 0,\n    maxCombo: 0,\n    tilesHit: 0,\n    tilesSpawned: 0\n  })\n};\n"],"mappings":"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","ignoreList":[]}